<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Built-in components · Gfit.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Gfit.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Gfit.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><a class="tocitem" href="concepts.html">Basic concepts and data types</a></li><li class="is-active"><a class="tocitem" href="builtincomp.html">Built-in components</a><ul class="internal"><li><a class="tocitem" href="#λComp"><span>λComp</span></a></li><li><a class="tocitem" href="#OffsetSlope"><span>OffsetSlope</span></a></li><li><a class="tocitem" href="#Polynomial"><span>Polynomial</span></a></li><li><a class="tocitem" href="#Gaussian"><span>Gaussian</span></a></li><li><a class="tocitem" href="#SumReducer"><span>SumReducer</span></a></li></ul></li><li><a class="tocitem" href="customcomp.html">Custom components</a></li><li><a class="tocitem" href="parameter.html">Parameter constraints</a></li><li><a class="tocitem" href="multifit.html">Multi-dataset fitting</a></li><li><a class="tocitem" href="viewers.html">Viewers</a></li><li><a class="tocitem" href="minimizers.html">Minimizers</a></li><li><a class="tocitem" href="misc.html">Miscellaneous</a></li><li><a class="tocitem" href="examples.html">Examples</a></li><li><a class="tocitem" href="api.html">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="builtincomp.html">Built-in components</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="builtincomp.html">Built-in components</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/gcalderone/GFit.jl/blob/master/docs/src/builtincomp.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Built-in-components"><a class="docs-heading-anchor" href="#Built-in-components">Built-in components</a><a id="Built-in-components-1"></a><a class="docs-heading-anchor-permalink" href="#Built-in-components" title="Permalink"></a></h1><p>The <strong>GFit.jl</strong> provides several built-in components which may be used to build arbitrarily complex models.</p><h2 id="λComp"><a class="docs-heading-anchor" href="#λComp">λComp</a><a id="λComp-1"></a><a class="docs-heading-anchor-permalink" href="#λComp" title="Permalink"></a></h2><p>The <code>λComp</code> component is a wrapper for a user defined lambda function (namely a <a href="api.html#GFit.λFunct"><code>GFit.λFunct</code></a> object, as obtained by the <a href="api.html#GFit.@λ"><code>@λ</code></a> macro).  The function is typically a mathematical expression combining any number of parameters and/or other component evaluations within the same model.  The expression should be given in the form:</p><pre><code class="nohighlight hljs">@λ (x, [y, [further domain dimensions...],]
    [comp1, [comp2, [further components ...],]]
    [p1=guess value, [p2=guess value, [further parameters]]]) -&gt;
	(mathematical expression)</code></pre><p>where the mathematical expression returns a <code>Vector{Float64}</code> with the same length as the model domain (regardless of the number of dimensions involved).</p><p>The <code>λComp</code> constructor is defined as follows:</p><pre><code class="language-julia hljs">λComp(f::λFunct)</code></pre><p>however there is no need to explicitly invoke such constructor since a <code>λComp</code> object is automatically created whenever a <code>λFunct</code> is added to the model. This components works with domains of any dimensionality.</p><h4 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h4><pre><code class="language-julia hljs">using GFit

# Prepare domain and a linear model (with initial guess parameters)
dom = Domain(1:5)
model = Model(dom, :linear =&gt; @λ (x, b=2, m=0.5) -&gt; (b .+ x .* m))

# Fit model against data
data = Measures(dom, [4.01, 7.58, 12.13, 19.78, 29.04], 0.4)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ linear    │ b      │       │     -4.17 │     2.361 │        │       │
│           │ m      │       │     6.226 │    0.7119 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          2
    DOF   :        3              Red. fit stat.:     31.671
    Status: <span class="sgr32">      OK</span>              Elapsed time  :          0 s
</span></code></pre><p>The evaluation of a <code>λComp</code> component may also involve the outcomes from other components. Continuing from previous example, whose fit was clearly a poor one, we may add a quadratic term to the previously defined <code>linear</code> component:</p><pre><code class="language-julia hljs">model[:quadratic] = @λ (x, linear, p2=1) -&gt; (linear .+ p2 .* x.^2)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ linear    │ b      │       │      3.07 │    0.7208 │        │       │
│           │ m      │       │   0.02029 │    0.5493 │        │       │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ quadratic │ p2     │       │     1.034 │   0.08981 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          3
    DOF   :        2              Red. fit stat.:    0.70582
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.001 s
</span></code></pre><p>Note that the keywords given when defining the function are interpreted as component parameters, hence their properties can be retrieved with:</p><pre><code class="language-julia hljs">println(&quot;Best fit values:&quot;)
println(&quot;b:  &quot;, res.bestfit[:linear].b.val , &quot; ± &quot;, res.bestfit[:linear].b.unc)
println(&quot;m:  &quot;, res.bestfit[:linear].m.val , &quot; ± &quot;, res.bestfit[:linear].m.unc)
println(&quot;p2: &quot;, res.bestfit[:quadratic].p2.val, &quot; ± &quot;, res.bestfit[:quadratic].p2.unc)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Best fit values:
b:  3.0699999911467817 ± 0.7207527811015609
m:  0.020285721486222603 ± 0.549261545099257
p2: 1.0342857131233405 ± 0.08981386648701789</code></pre><h2 id="OffsetSlope"><a class="docs-heading-anchor" href="#OffsetSlope">OffsetSlope</a><a id="OffsetSlope-1"></a><a class="docs-heading-anchor-permalink" href="#OffsetSlope" title="Permalink"></a></h2><p>An offset and slope component for 1D and 2D domains.</p><p>The constructors are defined as follows:</p><ul><li>1D: <code>GFit.Components.OffsetSlope(offset, x0, slope)</code>;</li><li>2D: <code>GFit.Components.OffsetSlope(offset, x0, y0, slopeX, slopeY)</code>;</li></ul><p>The parameters are:</p><ul><li>1D:<ul><li><code>offset::Parameter</code>: a global offset;</li><li><code>x0::Parameter</code>: the X coordinate of the point where the component equals <code>offset</code>.  This parameter is fixed by default;</li><li><code>slope::Parameter</code>: the slope of the linear function;</li></ul></li><li>2D:<ul><li><code>offset::Parameter</code>: a global offset;</li><li><code>x0::Parameter</code>: the X coordinate of the point where the component equals <code>offset</code>.  This parameter is fixed by default;</li><li><code>y0::Parameter</code>: the Y coordinate of the point where the component equals <code>offset</code>.  This parameter is fixed by default;</li><li><code>slopeX::Parameter</code> (only 2D): the slope of the plane along the X direction;</li><li><code>slopeY::Parameter</code> (only 2D): the slope of the plane along the Y direction;</li></ul></li></ul><h4 id="Examples-2"><a class="docs-heading-anchor" href="#Examples-2">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-2" title="Permalink"></a></h4><pre><code class="language-julia hljs">using GFit

# Prepare domain and a linear model using the OffsetSlope component
dom = Domain(1:5)
model = Model(dom, :linear =&gt; GFit.OffsetSlope(2, 0, 0.5))

# Fit model against data
data = Measures(dom, [4.01, 7.58, 12.13, 19.78, 29.04], 0.4)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param.     │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────────┼───────┼───────────┼───────────┼────────┼───────┤
│ linear    │ offset     │       │     -4.17 │     2.361 │        │       │
│           │ x0 (FIXED) │       │         0 │       NaN │        │       │
│           │ slope      │       │     6.226 │    0.7119 │        │       │
╰───────────┴────────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          2
    DOF   :        3              Red. fit stat.:     31.671
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.001 s
</span></code></pre><p>Note that the numerical results are identical to the previous example (where an explicit mathematical expression for the <code>:linear</code> component was used).</p><p>A similar example in 2D is as follows:</p><pre><code class="language-julia hljs">using GFit

# Prepare domain and a linear model using the OffsetSlope component
dom = CartesianDomain(1:5, 1:5)
model = Model(dom, :plane =&gt; GFit.OffsetSlope(2, 0, 0, 0.5, 0.5))

# Fit model against data
data = Measures(dom, [ 3.08403  3.46719  4.07612  4.25611  5.04716
                       3.18361  3.88546  4.52338  5.12838  5.7864
                       3.80219  4.90894  5.24232  5.06982  6.29545
                       4.34554  4.68698  5.51505  5.69245  6.35409
                       4.643    5.91825  6.18011  6.67073  7.01467], 0.25)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param.     │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────────┼───────┼───────────┼───────────┼────────┼───────┤
│ plane     │ offset     │       │     1.877 │    0.1572 │        │       │
│           │ x0 (FIXED) │       │         0 │       NaN │        │       │
│           │ y0 (FIXED) │       │         0 │       NaN │        │       │
│           │ slopeX     │       │    0.5016 │   0.03514 │        │       │
│           │ slopeY     │       │    0.5366 │   0.03514 │        │       │
╰───────────┴────────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :       25              #Free params  :          3
    DOF   :       22              Red. fit stat.:    0.98794
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.132 s
</span></code></pre><h2 id="Polynomial"><a class="docs-heading-anchor" href="#Polynomial">Polynomial</a><a id="Polynomial-1"></a><a class="docs-heading-anchor-permalink" href="#Polynomial" title="Permalink"></a></h2><p>A <em>n</em>-th degree polynomial function (<em>n &gt; 1</em>) for 1D domains.</p><p>The constructor is defined as follows:</p><ul><li><code>GFit.Polynomial(p1, p2, ...)</code>; where <code>p1</code>, <code>p2</code>, etc. are the guess values for the coefficients of each degree of the polynomial.</li></ul><p>The parameters are labelled: <code>p1</code>, <code>p2</code>, etc.</p><h4 id="Examples-3"><a class="docs-heading-anchor" href="#Examples-3">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-3" title="Permalink"></a></h4><pre><code class="language-julia hljs">using GFit

# Prepare domain and a linear model using the Polynomial component
dom = Domain(1:5)
model = Model(dom, GFit.Polynomial(2, 0.5))

# Fit model against data
data = Measures(dom, [4.01, 7.58, 12.13, 19.78, 29.04], 0.4)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ main      │ p1     │       │     -4.17 │     2.361 │        │       │
│           │ p2     │       │     6.226 │    0.7119 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          2
    DOF   :        3              Red. fit stat.:     31.671
    Status: <span class="sgr32">      OK</span>              Elapsed time  :          0 s
</span></code></pre><p>Note again that the numerical results are identical to the previous examples.  Also note that the default name for a component (if none is provided) is <code>:main</code>.  To use a 2nd degree polynomial we can simply replace the <code>:main</code> component with a new one:</p><pre><code class="language-julia hljs">model[:main] = GFit.Polynomial(2, 0.5, 1)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ main      │ p1     │       │      3.07 │    0.7208 │        │       │
│           │ p2     │       │   0.02029 │    0.5493 │        │       │
│           │ p3     │       │     1.034 │   0.08981 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          3
    DOF   :        2              Red. fit stat.:    0.70582
    Status: <span class="sgr32">      OK</span>              Elapsed time  :          0 s
</span></code></pre><h2 id="Gaussian"><a class="docs-heading-anchor" href="#Gaussian">Gaussian</a><a id="Gaussian-1"></a><a class="docs-heading-anchor-permalink" href="#Gaussian" title="Permalink"></a></h2><p>A normalized Gaussian component for 1D and 2D domains.</p><p>The constructors are defined as follows:</p><ul><li>1D: <code>GFit.Components.Gaussian(norm, center, sigma)</code>;</li><li>2D: <code>GFit.Components.Gaussian(norm, centerX, centerY, sigma)</code> (implies <code>sigmaX=sigmaY</code>, <code>angle=0</code>);</li><li>2D: <code>GFit.Components.Gaussian(norm, centerX, centerY, sigmaX, sigmaY, angle)</code>;</li></ul><p>The parameters are:</p><ul><li><p>1D:</p><ul><li><code>norm::Parameter</code>: the area below the Gaussian function;</li><li><code>center::Parameter</code>: the location of the center of the Gaussian;</li><li><code>sigma::Parameter</code>: the width the Gaussian;</li></ul></li><li><p>2D:</p><ul><li><code>norm::Parameter</code>: the volume below the Gaussian function;</li><li><code>centerX::Parameter</code>: the X coordinate of the center of the Gaussian;</li><li><code>centerY::Parameter</code>: the Y coordinate of the center of the Gaussian;</li><li><code>sigmaX::Parameter</code>: the width the Gaussian along the X direction (when <code>angle=0</code>);</li><li><code>sigmaY::Parameter</code>: the width the Gaussian along the Y direction (when <code>angle=0</code>);</li><li><code>angle::Parameter</code>: the rotation angle (in degrees) of the Gaussian.</li></ul></li></ul><h4 id="Examples-4"><a class="docs-heading-anchor" href="#Examples-4">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-4" title="Permalink"></a></h4><pre><code class="language-julia hljs">using GFit

# Prepare domain and model
dom = Domain(1:0.5:5)
model = Model(dom, GFit.Gaussian(1, 3, 0.5))

# Fit model against data
data = Measures(dom, [0, 0.3, 6.2, 25.4, 37.6, 23., 7.1, 0.4, 0], 0.6)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ main      │ norm   │ 0:Inf │     50.27 │    0.7227 │        │       │
│           │ center │       │     2.983 │  0.008858 │        │       │
│           │ sigma  │ 0:Inf │    0.5331 │  0.008832 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        9              #Free params  :          3
    DOF   :        6              Red. fit stat.:     1.0251
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.003 s
</span></code></pre><p>A very common problem is to fit the histogram of a distribution with a Gaussian model. In the following example we will generate such distribution with <code>Random.randn</code>, and use the <a href="https://github.com/gcalderone/Gnuplot.jl/">Gnuplot.jl</a> package to calculate the histogram and display the plot:</p><pre><code class="language-julia hljs">using Random, GFit, Gnuplot

# Calculate histogram of the distribution
hh = hist(randn(10000), bs=0.25)

# Prepare domain and data and fit a model
dom = Domain(hh.bins)
data = Measures(dom, hh.counts, 1.)
model = Model(dom, GFit.Gaussian(1e3, 0, 1))
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ main      │ norm   │ 0:Inf │      2494 │     15.89 │        │       │
│           │ center │       │ -0.002637 │  0.007303 │        │       │
│           │ sigma  │ 0:Inf │    0.9927 │  0.007303 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :       33              #Free params  :          3
    DOF   :       30              Red. fit stat.:     191.29
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.001 s
</span></code></pre><pre><code class="language-julia hljs">@gp hh coords(dom) model() &quot;w l t &#39;Model&#39; lw 3&quot;</code></pre><p><img src="assets/gaussian.png" alt/></p><p>A similar problem in 2D can be handled as follows:</p><pre><code class="language-julia hljs">using Random, GFit, Gnuplot

# Calculate histogram of the distribution
hh = hist(1 .+ randn(10000), 2 .* randn(10000))

# Prepare domain and data and fit a model
dom = CartesianDomain(hh.bins1, hh.bins2)
data = Measures(dom, hh.counts, 1.)
model = Model(dom, GFit.Gaussian(1e3, 0, 0, 1, 1, 0))
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬─────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param.  │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼─────────┼───────┼───────────┼───────────┼────────┼───────┤
│ main      │ norm    │ 0:Inf │      5022 │     32.84 │        │       │
│           │ centerX │       │     1.017 │   0.00665 │        │       │
│           │ centerY │       │  0.004097 │   0.01309 │        │       │
│           │ sigmaX  │ 0:Inf │     2.002 │   0.01309 │        │       │
│           │ sigmaY  │ 0:Inf │     1.017 │  0.006646 │        │       │
│           │ angle   │       │    -271.1 │    0.3623 │        │       │
╰───────────┴─────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :      272              #Free params  :          6
    DOF   :      266              Red. fit stat.:     42.149
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.004 s
</span></code></pre><h2 id="SumReducer"><a class="docs-heading-anchor" href="#SumReducer">SumReducer</a><a id="SumReducer-1"></a><a class="docs-heading-anchor-permalink" href="#SumReducer" title="Permalink"></a></h2><p>A component calculating the element-wise sum of a (potentially large) number of other components.</p><p>The <code>SumReducer</code> constructor is defined as follows:</p><pre><code class="language-julia hljs">SumReducer(args::AbstractSet{Symbol})
SumReducer(args::Vector{Symbol})
SumReducer(args::Vararg{Symbol})</code></pre><p>where the <code>Symbol</code>s represent the component names</p><p>The <code>SumReducer</code> component has no parameter.</p><h4 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h4><pre><code class="language-julia hljs">using GFit

# Prepare domain and a linear model (with initial guess parameters)
dom = Domain(1:5)
model = Model(dom, :linear =&gt; @λ (x, b=2, m=0.5) -&gt; (b .+ x .* m))

# Add a quadratic component to the model
model[:quadratic] = @λ (x, p2=1) -&gt; (p2 .* x.^2)

# The total model is the sum of `linear` and `quadratic`
model[:main] = SumReducer(:linear, :quadratic)

# Fit model against data
data = Measures(dom, [4.01, 7.58, 12.13, 19.78, 29.04], 0.4)
res = fit!(model, data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr32"><span class="sgr1">Best fit parameters:</span></span><span class="sgr1">
╭───────────┬────────┬───────┬───────────┬───────────┬────────┬───────╮
│ Component │ Param. │ Range │ Value     │ Uncert.   │ Actual │ Patch │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ linear    │ b      │       │      3.07 │    0.7208 │        │       │
│           │ m      │       │   0.02029 │    0.5493 │        │       │
├───────────┼────────┼───────┼───────────┼───────────┼────────┼───────┤
│ quadratic │ p2     │       │     1.034 │   0.08981 │        │       │
╰───────────┴────────┴───────┴───────────┴───────────┴────────┴───────╯
<span class="sgr32">Fit results:</span>
    #Data :        5              #Free params  :          3
    DOF   :        2              Red. fit stat.:    0.70582
    Status: <span class="sgr32">      OK</span>              Elapsed time  :      0.003 s
</span></code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="concepts.html">« Basic concepts and data types</a><a class="docs-footer-nextpage" href="customcomp.html">Custom components »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 19 January 2023 09:31">Thursday 19 January 2023</span>. Using Julia version 1.8.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
