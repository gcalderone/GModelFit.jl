<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · GModelFit.jl</title><meta name="title" content="Home · GModelFit.jl"/><meta property="og:title" content="Home · GModelFit.jl"/><meta property="twitter:title" content="Home · GModelFit.jl"/><meta name="description" content="Documentation for GModelFit.jl."/><meta property="og:description" content="Documentation for GModelFit.jl."/><meta property="twitter:description" content="Documentation for GModelFit.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GModelFit.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#A-model-fitting-framework-for-Julia."><span>A model fitting framework for Julia.</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Workflow"><span>Workflow</span></a></li></ul></li><li><a class="tocitem" href="concepts/">Basic concepts and data types</a></li><li><a class="tocitem" href="mainfunctions/">Main functionalities</a></li><li><a class="tocitem" href="builtincomp/">Built-in components</a></li><li><a class="tocitem" href="customcomp/">Custom components</a></li><li><a class="tocitem" href="parameter/">Parameter constraints</a></li><li><a class="tocitem" href="multifit/">Multi-dataset fitting</a></li><li><a class="tocitem" href="solvers/">Solvers</a></li><li><a class="tocitem" href="misc/">Miscellaneous</a></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gcalderone/GModelFit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gcalderone/GModelFit.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="GModelFit.jl"><a class="docs-heading-anchor" href="#GModelFit.jl">GModelFit.jl</a><a id="GModelFit.jl-1"></a><a class="docs-heading-anchor-permalink" href="#GModelFit.jl" title="Permalink"></a></h1><h2 id="A-model-fitting-framework-for-Julia."><a class="docs-heading-anchor" href="#A-model-fitting-framework-for-Julia.">A model fitting framework for Julia.</a><a id="A-model-fitting-framework-for-Julia.-1"></a><a class="docs-heading-anchor-permalink" href="#A-model-fitting-framework-for-Julia." title="Permalink"></a></h2><p><a href="https://github.com/gcalderone/GModelFit.jl"><img src="https://img.shields.io/github/stars/gcalderone/GModelFit.jl?style=social" alt="Stars"/></a></p><p><strong>GModelFit.jl</strong> is a general purpose, data-driven model fitting framework for Julia.</p><p>It provides the basic tools to define, interactively manipulate and efficiently evaluate a (possibly very complex) model, and to fit the latter to empirical data. The main functionalities are:</p><ul><li>it handles datasets of any dimensionality;</li><li>the syntax is very simple and concise as it resembles the indexing for dictionaries and the field access for structs.  The most relevant functions are the self-explanatory <code>fit()</code> and the object constructors (see <a href="mainfunctions/#Main-functionalities">Main functionalities</a>);</li><li>the fitting model is evaluated on a user defined domain, and is the result of a combination of <em>model components</em> or mathematical expressions (in the form of <a href="https://en.wikipedia.org/wiki/Anonymous_function">lambda functions</a>), or any arbitrary mixture of the two;</li><li>it provides several ready-to-use <a href="builtincomp/#Built-in-components">Built-in components</a>, and it also allows to define new components to suit specific needs (<a href="customcomp/#Custom-components">Custom components</a>);</li><li>all components results are cached so that repeated evaluations with the same parameter values do not involve further calculations (memoization);</li><li>model parameters can be fixed to a specific value, limited in an interval, and/or be dynamically linked (patched) to the values of other parameters (see <a href="parameter/#Parameter-constraints">Parameter constraints</a>);</li><li>multiple data sets can be fitted simultaneously against different models whose parameters can be patched (see <a href="multifit/#Multi-dataset-fitting">Multi-dataset fitting</a>);</li><li>it supports different solvers (<a href="https://julianlsolvers.github.io/LsqFit.jl/latest/">LsqFit</a>, <a href="https://github.com/gcalderone/CMPFit.jl">CMPFit</a> and <a href="https://docs.sciml.ai/NonlinearSolve/stable/">NonlinearSolve</a>), all aimed to carry out <a href="https://en.wikipedia.org/wiki/Non-linear_least_squares">non-linear least squares</a> minimization (see <a href="solvers/#Solvers">Solvers</a>);</li><li>it supports forward mode automatic differentiation (AD) of models via <a href="https://juliadiff.org/ForwardDiff.jl/stable">ForwardDiff</a>;</li><li>it provides facilities for interactive fitting and quick plotting (see <a href="misc/#Quick-plot-(1D)">Quick plot (1D)</a>).</li></ul><p>The fitting process involves the automatic variation of the parameter values, subject to the user defined constraints, until the differences between the evaluated model and the empirical data are minimized. The implementation details depends on the chosen solver.  The purpose of <strong>GModelFit.jl</strong> is thus to act as an interface between the high-level model definition and manipulation (facing the user), and the low-level implementation details (facing the solver).</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>In the Julia REPL type:</p><pre><code class="language-julia-repl hljs">julia&gt; ]add GModelFit</code></pre><p>The <code>]</code> character starts the Julia <a href="https://julialang.github.io/Pkg.jl/v1/getting-started.html#Basic-Usage-1">package manager</a>. Hit backspace key to return to Julia prompt.</p><p>In order to easily visualize the outcomes of 1D analysis you may be interested in installing also <a href="https://github.com/gcalderone/Gnuplot.jl">Gnuplot.jl</a>:</p><pre><code class="language-julia-repl hljs">julia&gt; ]add Gnuplot</code></pre><h2 id="Workflow"><a class="docs-heading-anchor" href="#Workflow">Workflow</a><a id="Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Workflow" title="Permalink"></a></h2><p>The typical workflow to use <strong>GModelFit.jl</strong> is as follows:</p><ul><li>Wrap empirical data domain and measures into one (ore more) <code>Domain</code> and <code>Measures</code> object(s);</li><li>Create a <code>Model</code> object  by providing components or mathematical expressions, each representing a specific <em>aspect</em> of the theoretical model;</li><li>Optionally set initial guess parameter values and/or constraints between model parameters;</li><li>Fit the model against the data and inspect the results;</li><li>If needed, modify the model and repeat the fitting process;</li><li>Exploit the results and outputs.</li></ul><p>A very simple example showing the above workflow is:</p><pre><code class="language-julia hljs">using GModelFit

# Prepare vectors with domain points, empirical measures and associated
# uncertainties
x    = [0.1, 1.1, 2.1, 3.1, 4.1]
meas = [6.29, 7.27, 10.41, 18.67, 25.3]
unc  = [1.1, 1.1, 1.1, 1.2, 1.2]

# Prepare Domain and Measures objects
dom  = Domain(x)
data = Measures(dom, meas, unc)

# Create a model using an explicit mathematical expression, and provide the
# initial guess values:
model = Model(@fd (x, a2=1, a1=1, a0=5) -&gt; (a2 .* x.^2  .+  a1 .* x  .+  a0))

# Fit model to the data
bestfit, fsumm = fit(model, data)</code></pre><p>The <strong>GModelFit.jl</strong> package implements a <code>show</code> method for many of the data types involved, hence the above code results in the following output:</p><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(<span class="sgr32"><span class="sgr1">Components:
</span></span><span class="sgr1"><span class="sgr94">╭</span></span><span class="sgr94">───────────┬───────┬───────┬─────────────┬───────────┬───────────┬───────────┬─────────╮</span>
<span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Component </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Type  </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> #Free </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Eval. count </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Min       </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Max       </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Mean      </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> NaN/Inf </span></span></span><span class="sgr94">│</span>
<span class="sgr94">├───────────┼───────┼───────┼─────────────┼───────────┼───────────┼───────────┼─────────┤</span>
<span class="sgr94">│</span> main      <span class="sgr94">│</span> FComp <span class="sgr94">│</span> 3     <span class="sgr94">│</span> 66          <span class="sgr94">│</span>     6.088 <span class="sgr94">│</span>     25.84 <span class="sgr94">│</span>     13.56 <span class="sgr94">│</span> 0       <span class="sgr94">│</span>
<span class="sgr94">╰───────────┴───────┴───────┴─────────────┴───────────┴───────────┴───────────┴─────────╯</span>

<span class="sgr32"><span class="sgr1">Parameters:
</span></span><span class="sgr1"><span class="sgr94">╭</span></span><span class="sgr94">───────────┬───────┬────────┬──────────┬───────────┬───────────┬────────┬───────╮</span>
<span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Component </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Type  </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Param. </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Range    </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Value     </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Uncert.   </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Actual </span></span></span><span class="sgr94">│</span><span class="sgr94"><span class="sgr7"><span class="sgr1"> Patch </span></span></span><span class="sgr94">│</span>
<span class="sgr94">├───────────┼───────┼────────┼──────────┼───────────┼───────────┼────────┼───────┤</span>
<span class="sgr94">│</span> main      <span class="sgr94">│</span> FComp <span class="sgr94">│</span> a2     <span class="sgr94">│</span> -Inf:Inf <span class="sgr94">│</span>     1.201 <span class="sgr94">│</span>    0.3051 <span class="sgr94">│</span>        <span class="sgr94">│</span>       <span class="sgr94">│</span>
<span class="sgr94">│</span>           <span class="sgr94">│</span>       <span class="sgr94">│</span> a1     <span class="sgr94">│</span> -Inf:Inf <span class="sgr94">│</span>    -0.106 <span class="sgr94">│</span>     1.317 <span class="sgr94">│</span>        <span class="sgr94">│</span>       <span class="sgr94">│</span>
<span class="sgr94">│</span>           <span class="sgr94">│</span>       <span class="sgr94">│</span> a0     <span class="sgr94">│</span> -Inf:Inf <span class="sgr94">│</span>     6.087 <span class="sgr94">│</span>     1.142 <span class="sgr94">│</span>        <span class="sgr94">│</span>       <span class="sgr94">│</span>
<span class="sgr94">╰───────────┴───────┴────────┴──────────┴───────────┴───────────┴────────┴───────╯</span>
, <span class="sgr32"><span class="sgr1">Fit summary:</span></span><span class="sgr1"> #data: 5, #free pars: 3, red. fit stat.: 1.0129, status: <span class="sgr32">OK      </span>
)</span></code></pre><p>showing the best fit parameter values and the associated uncertaintites, as well as a few summarizing concerning the fitting process.</p><p>If not saitisfied with the result you may, for instance, change the initial value for a parameter and re-run the fit:</p><pre><code class="language-julia hljs">model[:main].a0.val = 5
bestfit, fsumm = fit(model, data)</code></pre><p>Once done, you may plot the data and the best fit model with a plotting framework of your choice. E.g., with <a href="https://github.com/gcalderone/Gnuplot.jl">Gnuplot.jl</a>:</p><pre><code class="language-julia hljs">using Gnuplot
@gp coords(dom) values(data) uncerts(data) &quot;w yerr t &#39;Data&#39;&quot; :-
@gp :- coords(dom) bestfit() &quot;w l t &#39;Best fit model&#39;&quot;</code></pre><p><img src="assets/simple_example.png" alt/></p><p>Also, you can easily access the numerical results for further analysis, e.g.:</p><pre><code class="language-julia hljs">println(&quot;Best fit value for the offset parameter: &quot;,
	bestfit[:main].a0.val, &quot; ± &quot;,
	bestfit[:main].a0.unc, &quot;\n&quot;,
	&quot;Reduced χ^2: &quot;, fsumm.fitstat)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Best fit value for the offset parameter: 6.0869734863133 ± 1.1419446421923485
Reduced χ^2: 1.0128724404973983</code></pre><p>The above example is definitely a simple one, but more complex ones follow essentially the same workflow.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="concepts/">Basic concepts and data types »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.0 on <span class="colophon-date" title="Thursday 22 May 2025 23:46">Thursday 22 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
